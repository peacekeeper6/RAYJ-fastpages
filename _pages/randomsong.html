---
layout: home
search_exclude: true
permalink: /randomsong
image: images/logo.png
---


<center><h3>Bored of all your songs??</h3><center>
<h5>Look no further!</h5>


  <div>
    <hr>
    <p>
        <body>
            <table>
                <thead>
                <tr>
                  <th>Song Name</th>
                  <th>Artist</th>
                  <th>Image Link</th>
                  <th>Award</th>
                </tr>
                </thead>
                <tbody id="result">
                  <!-- generated rows -->
                </tbody>
              </table>
              
              <!-- Script is layed out in a sequence (no function) and will execute when page is loaded -->
              <script>
                // prepare HTML result container for new output
                const resultContainer = document.getElementById("result");
              
                // prepare fetch options
                const url = "https://music.nighthawkcoders.tk/api/hot/100";
              
                const options = {
                    method: 'GET', // *GET, POST, PUT, DELETE, etc.
                    mode: 'cors', // no-cors, *cors, same-origin
                    cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
                    credentials: 'same-origin', // include, same-origin, omit
                    headers: {
                        'Content-Type': 'application/json'
                        // 'Content-Type': 'application/x-www-form-urlencoded',
                },
                };
              
                // fetch the API
                fetch(url, options)
                  // response is a RESTful "promise" on any successful fetch
                  .then(response => {
                    // check for response errors
                    if (response.status !== 200) {
                        const errorMsg = 'Database response error: ' + response.status;
                        console.log(errorMsg);
                        const tr = document.createElement("tr");
                        const td = document.createElement("td");
                        td.innerHTML = errorMsg;
                        tr.appendChild(td);
                        resultContainer.appendChild(tr);
                        return;
                    }
                    // valid response will have json data
                    response.json().then(data => {
                        console.log(data);
                        // Country data
                        for (let i = 0; i < 5; i++) {
                          let random = Math.floor(Math.random() * 100);
                          console.log(data.tracks)
                          console.log(random)
                          console.log(data.tracks[parseInt(random)])
                          console.log(data.tracks[random].share)
                          console.log(data.tracks[random].share.subject)
                          // document.getElementById("recommended").innerHTML = data.tracks[random].share.subject
                      }
                    })
                })
                // catch fetch errors (ie ACCESS to server blocked)
                .catch(err => {
                  console.error(err);
                  const tr = document.createElement("tr");
                  const td = document.createElement("td");
                  td.innerHTML = err;
                  tr.appendChild(td);
                  resultContainer.appendChild(tr);
                });
              </script>
    
    <hr>





